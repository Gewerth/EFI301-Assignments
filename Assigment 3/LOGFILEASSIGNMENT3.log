---------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/gustaf/Documents/GitHub/EFI301-Assignments/Assigment 3/LOGFILEASSIG
> NMENT3.log
  log type:  text
 opened on:   7 Feb 2023, 13:37:20

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. splitsample , generate(sample) split(.7 .3) rseed(1223) 

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. label define slabel 1 "Training" 2 "Test"

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. label values sample slabel

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. tabulate sample

     sample |      Freq.     Percent        Cum.
------------+-----------------------------------
   Training |      1,050       70.00       70.00
       Test |        450       30.00      100.00
------------+-----------------------------------
      Total |      1,500      100.00

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. reg lwage cont1-cont2 dummy1-dummy9 if sample==1 

      Source |       SS           df       MS      Number of obs   =     1,050
-------------+----------------------------------   F(11, 1038)     =      8.07
       Model |   78.509756        11  7.13725055   Prob > F        =    0.0000
    Residual |  918.364306     1,038  .884744033   R-squared       =    0.0788
-------------+----------------------------------   Adj R-squared   =    0.0690
       Total |  996.874062     1,049  .950308925   Root MSE        =    .94061

------------------------------------------------------------------------------
       lwage | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       cont1 |   .1364468   .0305284     4.47   0.000     .0765424    .1963512
       cont2 |    .019678   .0315449     0.62   0.533    -.0422211    .0815771
      dummy1 |  -.0048455   .0299859    -0.16   0.872    -.0636853    .0539943
      dummy2 |  -.0704566   .0317773    -2.22   0.027    -.1328117   -.0081016
      dummy3 |   .1023715   .0316221     3.24   0.001      .040321     .164422
      dummy4 |   .0399566   .0293919     1.36   0.174    -.0177177     .097631
      dummy5 |  -.0017052   .0384919    -0.04   0.965     -.077236    .0738256
      dummy6 |  -.0715156   .0406548    -1.76   0.079    -.1512905    .0082594
      dummy7 |  -.0752249   .0382504    -1.97   0.049    -.1502818   -.0001679
      dummy8 |   .1962961   .0302276     6.49   0.000     .1369819    .2556103
      dummy9 |  -.0066208   .0289819    -0.23   0.819    -.0634905     .050249
       _cons |   .0017033   .0290706     0.06   0.953    -.0553405    .0587471
------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. estimates store ols_levels

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. reg lwage cont* dummy* interact* if sample==1

      Source |       SS           df       MS      Number of obs   =     1,050
-------------+----------------------------------   F(53, 996)      =      3.21
       Model |  145.455034        53  2.74443461   Prob > F        =    0.0000
    Residual |  851.419028       996  .854838381   R-squared       =    0.1459
-------------+----------------------------------   Adj R-squared   =    0.1005
       Total |  996.874062     1,049  .950308925   Root MSE        =    .92457

------------------------------------------------------------------------------
       lwage | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
       cont1 |  -2.644143   1.342113    -1.97   0.049    -5.277836   -.0104498
       cont2 |   4.774173   1.387221     3.44   0.001     2.051962    7.496384
cont1_square |   5.704929   1.760602     3.24   0.001     2.250015    9.159843
cont2_square |  -8.864052   2.166809    -4.09   0.000    -13.11609   -4.612018
  cont1_cube |  -2.975687    .701591    -4.24   0.000    -4.352453   -1.598921
  cont2_cube |   4.153763   1.137419     3.65   0.000      1.92175    6.385775
      dummy1 |   .6318049   .6075359     1.04   0.299    -.5603925    1.824002
      dummy2 |   2.846686   1.463213     1.95   0.052     -.024648    5.718021
      dummy3 |    .705408   .6833689     1.03   0.302    -.6355999    2.046416
      dummy4 |  -.9324248   .8681908    -1.07   0.283    -2.636118    .7712683
      dummy5 |  -.2563664   1.107241    -0.23   0.817    -2.429158    1.916426
      dummy6 |  -.7131068   .8218554    -0.87   0.386    -2.325874    .8996601
      dummy7 |  -.8576666   .7098297    -1.21   0.227      -2.2506    .5352667
      dummy8 |  -.0891911   .7651628    -0.12   0.907    -1.590707    1.412325
      dummy9 |  -.7918578    .747222    -1.06   0.290    -2.258168    .6744523
   interact1 |  -.0908424   .9823712    -0.09   0.926    -2.018597    1.836912
   interact2 |  -.0519289     .52598    -0.10   0.921    -1.084085    .9802272
   interact5 |  -.5721232   1.114461    -0.51   0.608    -2.759085    1.614839
   interact6 |  -5.516499   2.787949    -1.98   0.048    -10.98743   -.0455709
   interact7 |  -2.029396   1.229319    -1.65   0.099    -4.441749    .3829574
   interact8 |   1.668067   1.667351     1.00   0.317    -1.603856     4.93999
   interact9 |   1.110809    2.07369     0.54   0.592    -2.958494    5.180112
  interact10 |   1.982428   1.466584     1.35   0.177    -.8955213    4.860378
  interact11 |   2.308599   1.236609     1.87   0.062    -.1180588    4.735258
  interact12 |    .781341   1.440178     0.54   0.588     -2.04479    3.607472
  interact13 |    1.20979   1.427406     0.85   0.397    -1.591278    4.010858
  interact14 |  -.9288136   .6419783    -1.45   0.148    -2.188599    .3309716
  interact15 |  -1.057288   .6437274    -1.64   0.101    -2.320505    .2059298
  interact16 |   .2043074   .8016507     0.25   0.799    -1.368811    1.777426
  interact17 |   .4686195   .6336528     0.74   0.460    -.7748282    1.712067
  interact18 |   -.278862   .7399367    -0.38   0.706    -1.730876    1.173152
  interact19 |  -.3011213    .802421    -0.38   0.708    -1.875751    1.273508
  interact20 |  -.3616799   .7481192    -0.48   0.629    -1.829751    1.106391
  interact21 |  -.2002645   .6373774    -0.31   0.753    -1.451021    1.050492
  interact22 |   .4764113   .6269786     0.76   0.448    -.7539393    1.706762
  interact23 |   .1868548   .6413189     0.29   0.771    -1.071636    1.445346
  interact24 |    3.06731   1.421744     2.16   0.031      .277352    5.857268
  interact25 |   1.376662   .6942742     1.98   0.048     .0142537     2.73907
  interact26 |  -.8802975   .9031661    -0.97   0.330    -2.652624    .8920292
  interact27 |  -.7796984   1.100888    -0.71   0.479    -2.940025    1.380628
  interact28 |   -1.22508   .8162789    -1.50   0.134    -2.826904    .3767435
  interact29 |  -1.458889   .7067048    -2.06   0.039     -2.84569   -.0720882
  interact30 |  -.5297607   .8333796    -0.64   0.525    -2.165142    1.105621
  interact31 |  -.6376499   .8201871    -0.78   0.437    -2.247143    .9718432
  interact32 |   .7951826    .432467     1.84   0.066    -.0534684    1.643834
  interact33 |   .7089547   .3793493     1.87   0.062     -.035461     1.45337
  interact34 |  -.0989076   .5175863    -0.19   0.848    -1.114592    .9167771
  interact35 |  -.3464076   .3872327    -0.89   0.371    -1.106293     .413478
  interact36 |   .1882854   .4632785     0.41   0.685    -.7208285    1.097399
  interact37 |   .1632449    .487911     0.33   0.738    -.7942066    1.120696
  interact38 |   .2710182   .4398341     0.62   0.538    -.5920896    1.134126
  interact39 |   .2646495   .4619354     0.57   0.567    -.6418289    1.171128
  interact40 |  -.3807655   .4517425    -0.84   0.399    -1.267242    .5057107
       _cons |   .0145747   .0291743     0.50   0.617    -.0426753    .0718248
------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. estimates store ols_all

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. lassogof ols_levels ols_all if sample ==1

Penalized coefficients
-------------------------------------------------
       Name |         MSE    R-squared        Obs
------------+------------------------------------
 ols_levels |    .8746327       0.0788      1,050
    ols_all |    .8108753       0.1459      1,050
-------------------------------------------------

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. lassogof ols_levels ols_all if sample ==2

Penalized coefficients
-------------------------------------------------
       Name |         MSE    R-squared        Obs
------------+------------------------------------
 ols_levels |    1.059587       0.0499        450
    ols_all |    1.186286      -0.0637        450
-------------------------------------------------

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. elasticnet linear lwage cont* dummy* interact* if sample==1, alpha (0) nolog rseed (1
> 223)

Elastic net linear model                         No. of obs        =      1,050
                                                 No. of covariates =         53
Selection: Cross-validation                      No. of CV folds   =         10

-------------------------------------------------------------------------------
               |                               No. of      Out-of-      CV mean
               |                              nonzero       sample   prediction
alpha       ID |     Description      lambda    coef.    R-squared        error
---------------+---------------------------------------------------------------
0.000          |
             1 |    first lambda    205.0223       53      -0.0032     .9524592
            61 |   lambda before    .7718958       53       0.0523     .8997049
          * 62 | selected lambda    .7033227       53       0.0524     .8996733
            63 |    lambda after    .6408415       53       0.0524     .8996781
           100 |     last lambda    .0205022       53       0.0337     .9173624
-------------------------------------------------------------------------------
* alpha and lambda selected by cross-validation.

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. estimates store ridge_all

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. lassogof ols_all ols_levels ridge_all if sample ==2

Penalized coefficients
-------------------------------------------------
       Name |         MSE    R-squared        Obs
------------+------------------------------------
    ols_all |    1.186286      -0.0637        450
 ols_levels |    1.059587       0.0499        450
  ridge_all |    1.057637       0.0517        450
-------------------------------------------------

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. elasticnet linear lwage cont1-cont2 dummy1-dummy9 if sample==1, alpha (0) nolog rseed
>  (1223)

Elastic net linear model                         No. of obs        =      1,050
                                                 No. of covariates =         11
Selection: Cross-validation                      No. of CV folds   =         10

-------------------------------------------------------------------------------
               |                               No. of      Out-of-      CV mean
               |                              nonzero       sample   prediction
alpha       ID |     Description      lambda    coef.    R-squared        error
---------------+---------------------------------------------------------------
0.000          |
             1 |    first lambda     176.418       11      -0.0032     .9524592
            78 |   lambda before    .1365941       11       0.0561      .896129
          * 79 | selected lambda    .1244594       11       0.0561     .8961281
            80 |    lambda after    .1134028       11       0.0561     .8961422
           100 |     last lambda    .0176418       11       0.0551     .8970955
-------------------------------------------------------------------------------
* alpha and lambda selected by cross-validation.

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. estimates store ridge_levels

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. lassogof ols_all ols_levels ridge_all ridge_levels if sample ==2

Penalized coefficients
-------------------------------------------------
       Name |         MSE    R-squared        Obs
------------+------------------------------------
    ols_all |    1.186286      -0.0637        450
 ols_levels |    1.059587       0.0499        450
  ridge_all |    1.057637       0.0517        450
ridge_levels|    1.056942       0.0523        450
-------------------------------------------------

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. elasticnet linear lwage cont* dummy* interact* if sample==1, alpha (1) nolog rseed (1
> 223)

Elastic net linear model                         No. of obs        =      1,050
                                                 No. of covariates =         53
Selection: Cross-validation                      No. of CV folds   =         10

-------------------------------------------------------------------------------
               |                               No. of      Out-of-      CV mean
               |                              nonzero       sample   prediction
alpha       ID |     Description      lambda    coef.    R-squared        error
---------------+---------------------------------------------------------------
1.000          |
             1 |    first lambda    .2050223        0      -0.0024       .95164
            22 |   lambda before    .0290614        9       0.0523     .8997513
          * 23 | selected lambda    .0264796        9       0.0526     .8994211
            24 |    lambda after    .0241273        9       0.0526     .8994272
            29 |     last lambda    .0151526       16       0.0498     .9020803
-------------------------------------------------------------------------------
* alpha and lambda selected by cross-validation.

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. estimates store lasso_all

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. lassogof ols_all ols_levels ridge_all ridge_levels lasso_all if sample ==2

Penalized coefficients
-------------------------------------------------
       Name |         MSE    R-squared        Obs
------------+------------------------------------
    ols_all |    1.186286      -0.0637        450
 ols_levels |    1.059587       0.0499        450
  ridge_all |    1.057637       0.0517        450
ridge_levels|    1.056942       0.0523        450
  lasso_all |    1.056924       0.0523        450
-------------------------------------------------

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. lassocoef , display(coef)

------------------------
             | lasso_all
-------------+----------
       cont1 |  .0271338
      dummy2 | -.0387529
      dummy6 | -.0241366
      dummy7 | -.0232785
  interact12 |  .1518034
  interact18 |   .011654
  interact21 |  .0246426
  interact25 |  .0957434
  interact26 |  .0261598
       _cons |         0
------------------------
Legend:
  b - base level
  e - empty cell
  o - omitted

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. clear 

. 
end of do-file

. do "/var/folders/gg/lz0sj7wn0c34cssljqqc9qpw0000gn/T//SD64760.000000"

. use ts_minwage.dta

. 
end of do-file

